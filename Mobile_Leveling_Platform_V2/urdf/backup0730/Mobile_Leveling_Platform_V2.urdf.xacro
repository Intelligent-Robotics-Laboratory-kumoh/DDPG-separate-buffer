<?xml version="1.0" encoding="utf-8"?>
<!-- This URDF was automatically created by SolidWorks to URDF Exporter! Originally created by Stephen Brawner (brawner@gmail.com) 
     Commit Version: 1.5.1-0-g916b5db  Build Version: 1.5.7152.31018
     For more information, please see http://wiki.ros.org/sw_urdf_exporter -->

<robot name="Mobile_Leveling_Platform_V2" xmlns:xacro="http://ros.org/wiki/xacro">

<!--Mobile_Robot control-->
  <gazebo>
    <plugin name="skid_steer_drive_controller" filename="libgazebo_ros_skid_steer_drive.so">
      <updateRate>10</updateRate>
      <robotNamespace>/</robotNamespace>
      <leftFrontJoint>front_L_motor_rev_joint</leftFrontJoint>
      <rightFrontJoint>front_R_motor_rev_joint</rightFrontJoint>
      <leftRearJoint>rear_L_motor_rev_joint</leftRearJoint>
      <rightRearJoint>rear_R_motor_rev_joint</rightRearJoint>
      <wheelSeparation>0.035</wheelSeparation>
      <wheelDiameter>0.07</wheelDiameter>
      <robotBaseFrame>base_link</robotBaseFrame>
      <torque>10</torque>
      <commandTopic>twist2gazebo</commandTopic>
      <broadcastTF>true</broadcastTF>
    </plugin>
  </gazebo>

<!--Leveling_Platform control-->
  <gazebo>
    <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
      <robotNamespace>platform/MLP</robotNamespace>
      <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>
    </plugin>
  </gazebo>

  <transmission name="trans1">
     <type>transmission_interface/SimpleTransmission</type>
     <joint name="front_motor_rev_joint">
       <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
     </joint>
     <actuator name="front_motor_rev_motor">
       <mechanicalReduction>50</mechanicalReduction>
       <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
     </actuator>
  </transmission>

  <transmission name="trans2">
     <type>transmission_interface/SimpleTransmission</type>
     <joint name="upper_motor_rev_joint">
       <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
     </joint>
     <actuator name="upper_motor_rev_motor">
       <mechanicalReduction>50</mechanicalReduction>
       <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
     </actuator>
  </transmission>

<!--IMU Plugin-->
  <gazebo reference="imu_link_upper">
    <gravity>true</gravity>
    <sensor name="imu_sensor" type="imu">
      <always_on>true</always_on>
      <update_rate>100</update_rate>
      <visualize>true</visualize>
      <topic>__default_topic__</topic>
      <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">
        <topicName>imu_upper</topicName>
        <bodyName>imu_link_upper</bodyName>
        <updateRateHZ>10.0</updateRateHZ>
        <gaussianNoise>0.0</gaussianNoise>
        <xyzOffset>0 0 0</xyzOffset>
        <rpyOffset>0 0 0</rpyOffset>
        <frameName>imu_link_upper</frameName>
        <initialOrientationAsReference>false</initialOrientationAsReference>
      </plugin>
      <pose>0 0 0 0 0 0</pose>
    </sensor>
  </gazebo>

  <gazebo reference="imu_link_base">
    <gravity>true</gravity>
    <sensor name="imu_sensor" type="imu">
      <always_on>true</always_on>
      <update_rate>100</update_rate>
      <visualize>true</visualize>
      <topic>__default_topic__</topic>
      <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">
        <topicName>imu_base</topicName>
        <bodyName>imu_link_base</bodyName>
        <updateRateHZ>10.0</updateRateHZ>
        <gaussianNoise>0.0</gaussianNoise>
        <xyzOffset>0 0 0</xyzOffset>
        <rpyOffset>0 0 0</rpyOffset>
        <frameName>imu_link_base</frameName>
        <initialOrientationAsReference>false</initialOrientationAsReference>
      </plugin>
      <pose>0 0 0 0 0 0</pose>
    </sensor>
  </gazebo>

<!-- GPS -->
  <gazebo>
    <plugin name="GazeboRosGps" filename="libhector_gazebo_ros_gps.so">
        <updateRate>100</updateRate>
        <robotNamespace>platform/MLP</robotNamespace>
        <bodyName>GPS_link</bodyName>
        <frameId>default_empty</frameId>
        <topicName>fix</topicName>
	<velocityTopicName>fix_velocity</velocityTopicName>
	<referenceLatitude>36.146545</referenceLatitude>
	<referenceLongitude>128.388039</referenceLongitude>
	<referenceHeading>0</referenceHeading>
	<referenceAltitude>0</referenceAltitude>
    	<status>STATIS_FIX</status>
	<service>SERVICE_GPS	</service>
	<offset>0 0 0 0 0 0</offset>
	<drift>0</drift>
	<driftFrequency>100</driftFrequency>
	<gaussianNoise>0</gaussianNoise>
	<velocityOffset>0</velocityOffset>
	<velocityDrift>0</velocityDrift>
	<velocityDriftFrequency>100</velocityDriftFrequency>
	<velocityGaussianNoise>0</velocityGaussianNoise>
    </plugin>
  </gazebo>

<!--link color-->
  <gazebo reference="beacon_link">
      <material>Gazebo/Green</material> 
  </gazebo>

  <gazebo reference="GPS_link">
      <material>Gazebo/Black</material> 
  </gazebo>
<!-- base_link mass :15.686-->

  <link
    name="base_link">
    <inertial>
      <origin
        xyz="1.2919E-06 -0.025389 1.4989"
        rpy="0 0 0" />
      <mass
        value="15.686" />
      <inertia
        ixx="0.048124"
        ixy="1.5141E-19"
        ixz="2.2275E-07"
        iyy="0.1289"
        iyz="-1.2904E-17"
        izz="0.10413" />
    </inertial>
    <visual>
      <origin
        xyz="0 1.5 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/base_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 1.5 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/base_link.STL" />
      </geometry>
    </collision>
  </link>

  <joint
    name="imu_base_joint"
    type="fixed">
    <origin
      xyz="0 0 0"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="imu_link_base" />
    <axis
      xyz="0 0 0" />
  </joint>
<!--1.2919E-06 -0.025389 0-->
  <link name ="imu_link_base">
    <inertial>
      <origin
        xyz="0 0 0" 
        rpy="0 0 0" />
      <mass
        value="0.1" />
      <inertia
        ixx="0.000001667"
        ixy="0"
        ixz="0"
        iyy="0.000001667"
        iyz="0"
        izz="0.000001667" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
	<box size = "0.01 0.01 0.01"/>
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
	<box size = "0.01 0.01 0.01"/>
      </geometry>
    </collision>
  </link>
  <link
    name="front_L_motor_rev_link">
    <inertial>
      <origin
        xyz="0.00043897 0.00010784 0.0089921"
        rpy="0 0 0" />
      <mass
        value="0.075717" />
      <inertia
        ixx="3.7606E-05"
        ixy="1.0136E-07"
        ixz="-5.7378E-07"
        iyy="3.7419E-05"
        iyz="-1.7765E-07"
        izz="3.9868E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/front_L_motor_rev_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/front_L_motor_rev_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="front_L_motor_rev_joint"
    type="continuous">
    <origin
      xyz="0.363 -0.3709 -0.041791"
      rpy="0 -1.5708 0" />
    <parent
      link="base_link" />
    <child
      link="front_L_motor_rev_link" />
    <axis
      xyz="0 0 1" />
  </joint>
  <link
    name="front_L_tire_link">
    <inertial>
      <origin
        xyz="-3.7896E-07 2.773E-06 2.1792E-08"
        rpy="0 0 0" />
      <mass
        value="2.9551" />
      <inertia
        ixx="0.029016"
        ixy="-3.4163E-07"
        ixz="-1.4575E-08"
        iyy="0.015583"
        iyz="-7.8838E-08"
        izz="0.015587" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/front_L_tire_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/front_L_tire_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="front_L_tire_joint"
    type="fixed">
    <origin
      xyz="0 0 -0.011"
      rpy="0.13209 1.5708 0" />
    <parent
      link="front_L_motor_rev_link" />
    <child
      link="front_L_tire_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="front_R_motor_link">
    <inertial>
      <origin
        xyz="0.00043897 0.00010784 0.0089921"
        rpy="0 0 0" />
      <mass
        value="0.075717" />
      <inertia
        ixx="3.7606E-05"
        ixy="1.0136E-07"
        ixz="-5.7378E-07"
        iyy="3.7419E-05"
        iyz="-1.7765E-07"
        izz="3.9868E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/front_R_motor_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/front_R_motor_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="front_R_motor_rev_joint"
    type="continuous">
    <origin
      xyz="-0.363 -0.3709 -0.041791"
      rpy="3.1416 -1.5708 0" />
    <parent
      link="base_link" />
    <child
      link="front_R_motor_link" />
    <axis
      xyz="0 0 -1" />
  </joint>
  <link
    name="front_R_tire_link">
    <inertial>
      <origin
        xyz="-3.786E-07 2.7731E-06 2.2371E-08"
        rpy="0 0 0" />
      <mass
        value="2.9551" />
      <inertia
        ixx="0.029016"
        ixy="-3.416E-07"
        ixz="-1.4569E-08"
        iyy="0.015583"
        iyz="-7.8811E-08"
        izz="0.015587" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/front_R_tire_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/front_R_tire_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="front_R_tire_joint"
    type="fixed">
    <origin
      xyz="0 0 -0.011"
      rpy="0.14726 1.5708 0" />
    <parent
      link="front_R_motor_link" />
    <child
      link="front_R_tire_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="rear_L_motor_rev_link">
    <inertial>
      <origin
        xyz="0.00043897 0.00010784 0.0089921"
        rpy="0 0 0" />
      <mass
        value="0.075717" />
      <inertia
        ixx="3.7606E-05"
        ixy="1.0136E-07"
        ixz="-5.7378E-07"
        iyy="3.7419E-05"
        iyz="-1.7765E-07"
        izz="3.9868E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/rear_L_motor_rev_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/rear_L_motor_rev_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="rear_L_motor_rev_joint"
    type="continuous">
    <origin
      xyz="0.363 0.3731 -0.041791"
      rpy="0 -1.5708 0" /><!--3.1416-->
    <parent
      link="base_link" />
    <child
      link="rear_L_motor_rev_link" />
    <axis
      xyz="0 0 1" />
  </joint>
  <link
    name="rear_L_tire_link">
    <inertial>
      <origin
        xyz="-3.7891E-07 2.7734E-06 2.19E-08"
        rpy="0 0 0" />
      <mass
        value="2.9551" />
      <inertia
        ixx="0.029016"
        ixy="-3.4161E-07"
        ixz="-1.4568E-08"
        iyy="0.015583"
        iyz="-7.8816E-08"
        izz="0.015587" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/rear_L_tire_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/rear_L_tire_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="rear_L_tire_joint"
    type="fixed">
    <origin
      xyz="0 0 -0.011"
      rpy="0.13537 -1.5708 0" />
    <parent
      link="rear_L_motor_rev_link" />
    <child
      link="rear_L_tire_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="rear_R_motor_rev_link">
    <inertial>
      <origin
        xyz="0.00043897 0.00010784 0.0089921"
        rpy="0 0 0" />
      <mass
        value="0.075717" />
      <inertia
        ixx="3.7606E-05"
        ixy="1.0136E-07"
        ixz="-5.7378E-07"
        iyy="3.7419E-05"
        iyz="-1.7765E-07"
        izz="3.9868E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/rear_R_motor_rev_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/rear_R_motor_rev_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="rear_R_motor_rev_joint"
    type="continuous">
    <origin
      xyz="-0.363 0.3731 -0.041791"
      rpy="3.1416 -1.5708 0" />
    <parent
      link="base_link" />
    <child
      link="rear_R_motor_rev_link" />
    <axis
      xyz="0 0 -1" />
  </joint>
  <link
    name="rear_R_tire_link">
    <inertial>
      <origin
        xyz="-3.7891E-07 2.7731E-06 2.1853E-08"
        rpy="0 0 0" />
      <mass
        value="2.9551" />
      <inertia
        ixx="0.029016"
        ixy="-3.4163E-07"
        ixz="-1.4593E-08"
        iyy="0.015583"
        iyz="-7.8851E-08"
        izz="0.015587" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/rear_R_tire_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/rear_R_tire_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="rear_R_tire_joint"
    type="fixed">
    <origin
      xyz="0 0 -0.011"
      rpy="0.1395 1.5708 0" />
    <parent
      link="rear_R_motor_rev_link" />
    <child
      link="rear_R_tire_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="mating_link">
    <inertial>
      <origin
        xyz="0.28001 0.616 -0.041642"
        rpy="0 0 0" />
      <mass
        value="14.754" /> <!--mating_link_ mass:14.754-->
      <inertia
        ixx="1.0335"
        ixy="-4.5514E-06"
        ixz="-1.0552E-18"
        iyy="0.15781"
        iyz="1.1729E-18"
        izz="1.1838" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/mating_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/mating_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="mating_joint"
    type="fixed">
    <origin
      xyz="-0.28 0.88511 0.20249"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="mating_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="front_leveling_link">
    <inertial>
      <origin
        xyz="-0.094 -0.0078388 0.49881"
        rpy="0 0 0" />
      <mass
        value="1.9876" />
      <inertia
        ixx="0.025468"
        ixy="3.1399E-20"
        ixz="-5.1038E-19"
        iyy="0.024479"
        iyz="-4.9544E-05"
        izz="0.0026287" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/front_leveling_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/front_leveling_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="front_leveling_joint"
    type="fixed">
    <origin
      xyz="0.374 -1.768 0.015"
      rpy="0 0 0" />
    <parent
      link="mating_link" />
    <child
      link="front_leveling_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="front_motor_rev_link">
    <inertial>
      <origin
        xyz="9.7145E-16 0.030907 2.2204E-16"
        rpy="0 0 0" />
      <mass
        value="0.025329" /> <!--front_motor_rev_link mass : 0.025329-->
      <inertia
        ixx="6.8991E-06"
        ixy="-2.7437E-22"
        ixz="3.1069E-40"
        iyy="1.0461E-05"
        iyz="1.7456E-23"
        izz="6.8991E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/front_motor_rev_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/front_motor_rev_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="GPS_joint"
    type="fixed">
    <origin
      xyz="9.7145E-16 0.030907 0.0095"
      rpy="0 3.141592 0" />
    <parent
      link="front_motor_rev_link" />
    <child
      link="GPS_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link 
    name="GPS_link">
    <inertial>
      <origin
        xyz="9.7145E-16 0.030907 0.015" 
        rpy="0 3.141592 0" />
      <mass
        value="0.1" />
      <inertia
        ixx="0.000001667"
        ixy="0"
        ixz="0"
        iyy="0.000001667"
        iyz="0"
        izz="0.000001667" />
    </inertial>
    <visual>
      <origin
        xyz="9.7145E-16 0.030907 0.015"
        rpy="0 3.141592 0" />
      <geometry>
	<box size = "0.01 0.01 0.01"/>
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="9.7145E-16 0.030907 0.015"
        rpy="0 3.141592 0" />
      <geometry>
	<box size = "0.01 0.01 0.01"/>
      </geometry>
    </collision>
  </link>
  <joint
    name="front_motor_rev_joint"
    type="revolute">

    <origin
      xyz="-0.094 0.055 0.67"
      rpy="3.1416 0 -3.1416" />
    <parent
      link="front_leveling_link" />
    <child
      link="front_motor_rev_link" />
    <axis
      xyz="0 1 0" />
    <limit
      lower="-0.5236"
      upper="0.5236"
      effort="1"
      velocity="1" />
  </joint>

  <link
    name="under_upper_link">
    <inertial>
      <origin
        xyz="0.1862 0.78081 -0.32342"
        rpy="0 0 0" />
      <mass
        value="8.5158" /> <!--8.5158-->
      <inertia
        ixx="0.46712"
        ixy="-2.4082E-19"
        ixz="4.9544E-05"
        iyy="0.53467"
        iyz="-3.1153E-19"
        izz="0.92485" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/under_upper_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/under_upper_link.STL" />
      </geometry>
    </collision>
  </link>
<!--mass_link-->

  <joint
    name="under_upper_mass_joint"
    type="fixed">
    <origin
      xyz="-0.042 0.403 0.015743"
      rpy="0 0 0" />
    <parent
      link="under_upper_link" />
    <child
      link="under_upper_mass_link" />
    <axis
      xyz="0 0 0" />
  </joint>

  <link 
    name="under_upper_mass_link">
    <inertial>
      <origin
        xyz="-0.042 0.403 0.015743"
        rpy="0 0 0" />
      <mass
        value="5" />
      <inertia
        ixx="0.000001667"
        ixy="0"
        ixz="0"
        iyy="0.000001667"
        iyz="0"
        izz="0.000001667" />
    </inertial>
    <visual>
      <origin

        xyz="-0.042 0.403 0.015743"
        rpy="0 0 0" />
      <geometry>
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="-0.042 0.403 0.015743"
        rpy="0 0 0" />
      <geometry>
      </geometry>
    </collision>
  </link>

  <joint
    name="mating_mass_joint"
    type="fixed">
    <origin
      xyz="0.13001 -1.866 -0.041642"
      rpy="0 0 0" />
    <parent
      link="mating_link" />
    <child
      link="mating_mass_link" />
    <axis
      xyz="0 0 0" />
  </joint>

  <link 
    name="mating_mass_link">
    <inertial>
      <origin
        xyz="0.13001 -1.866 -0.041642"
        rpy="0 0 0" />
      <mass
        value="7" />
      <inertia
        ixx="0.000001667"
        ixy="0"
        ixz="0"

        iyy="0.000001667"
        iyz="0"
        izz="0.000001667" />
    </inertial>
    <visual>
      <origin
        xyz="0.13001 -1.866 -0.041642"
        rpy="0 0 0" />
      <geometry>
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0.13001 -1.866 -0.041642"
        rpy="0 0 0" />
      <geometry>
      </geometry>
    </collision>
  </link>

<!--end mass_link-->
  <joint
    name="under_upper_joint"
    type="fixed">
    <origin
      xyz="0.087597 0.053 0.015743"
      rpy="-3.1416 0 -3.1416" />
    <parent
      link="front_motor_rev_link" />
    <child
      link="under_upper_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="upper_motor_rev_link">
    <inertial>
      <origin
        xyz="-2.2204E-16 0.030907 1.1102E-16"
        rpy="0 0 0" />
      <mass
        value="0.025329" />
      <inertia
        ixx="6.8991E-06"
        ixy="5.9833E-22"
        ixz="-5.5917E-22"
        iyy="1.0461E-05"
        iyz="1.757E-23"
        izz="6.8991E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/upper_motor_rev_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/upper_motor_rev_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="upper_motor_rev_joint"
    type="revolute">
    <origin
      xyz="0.877 0.79375 0"
      rpy="0 -0.0058456 1.5708" />
    <parent
      link="under_upper_link" />
    <child
      link="upper_motor_rev_link" />
    <axis
      xyz="0 1 0" />
    <limit
      lower="-0.5236"
      upper="0.5236"
      effort="1"
      velocity="1" />
  </joint>
  <link
    name="upper_link">
    <inertial>
      <origin
        xyz="-0.00040832 -0.00031982 -0.0067744"
        rpy="0 0 0" />
      <mass
        value="12.075" /> <!--12.075-->
      <inertia
        ixx="1.566"
        ixy="-7.157E-20"
        ixz="-4.6083E-20"
        iyy="1.6523"
        iyz="1.6457E-19"
        izz="3.2174" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/upper_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/upper_link.STL" />
      </geometry>
    </collision>
  </link>

  <joint
    name="beacon_joint"
    type="fixed">
    <origin
      xyz="-0.00040832 -0.00031982 0.004"

      rpy="0 0 0" />
    <parent
      link="upper_link" />
    <child
      link="beacon_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="beacon_link">
    <inertial>
      <origin
        xyz="-0.00040832 -0.00031982 0.004"
        rpy="0 0 0" />
      <mass
        value="1" />     <!--rear_Leveling_link mass : 1.1026-->
      <inertia
        ixx="0.000841667"
        ixy="0"
        ixz="0"
        iyy="0.000841667"
        iyz="0"
        izz="0.001666667" />
    </inertial>
    <visual>
      <origin
        xyz="-0.00040832 -0.00031982 0.004"
        rpy="0 0 0" />
      <geometry>
           <box size="0.1 0.1 0.01"/>
      </geometry>

    </visual>
    <collision>
      <origin
        xyz="-0.00040832 -0.00031982 0.004"
        rpy="0 0 0" />
      <geometry>
           <box size="0.1 0.1 0.01"/>
      </geometry>
    </collision>
  </link>

  <joint
    name="upper_joint"
    type="fixed">
    <origin
      xyz="0.0038376 0.788 0.014978"
      rpy="-0.0058456 0 -1.5708" />
    <parent
      link="upper_motor_rev_link" />
    <child
      link="upper_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="rear_Leveling_link">
    <inertial>
      <origin
        xyz="0.03175 -0.0029488 0.39061"
        rpy="0 0 0" />
      <mass
        value="1.1026" /><!--rear_Leveling_link mass : 1.1026-->
      <inertia
        ixx="0.032266"
        ixy="1.2414E-20"
        ixz="4.614E-19"
        iyy="0.032486"
        iyz="-1.0871E-20"
        izz="0.0003903" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/rear_Leveling_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://Mobile_Leveling_Platform_V2/meshes/rear_Leveling_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="rear_Leveling_joint"
    type="fixed">
    <origin
      xyz="0.24825 0 0.015"
      rpy="0 0 0" />
    <parent
      link="mating_link" />
    <child
      link="rear_Leveling_link" />
    <axis
      xyz="0 0 0" />
  </joint>

  <link name ="imu_link_upper">
    <inertial>
      <origin
        xyz="-0.00040832 -0.00031982 -0.02"
        rpy="0 0 0" />
      <mass
        value="0.1" />
      <inertia
        ixx="0.000001667"
        ixy="0"
        ixz="0"
        iyy="0.000001667"
        iyz="0"
        izz="0.000001667" />
    </inertial>
    <visual>
      <origin
        xyz="-0.00040832 -0.00031982 -0.02"
        rpy="0 0 0" />
      <geometry>
	<box size = "0.01 0.01 0.01"/>
      </geometry>
      <material
        name="">
        <color
          rgba="255 255 255" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="-0.00040832 -0.00031982 -0.02"
        rpy="0 0 0" />
      <geometry>
	<box size = "0.01 0.01 0.01"/>  
      </geometry>
    </collision>
  </link>

  <joint
    name="imu_joint"
    type="fixed">
    <origin
      xyz="-0.00040832 -0.00031982 -0.015"
      rpy="0 0 0" />
    <parent
      link="upper_link" />
    <child
      link="imu_link_upper" />
    <axis
      xyz="0 0 0" />
  </joint>

</robot>
